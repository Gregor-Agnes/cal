###
# This is the default TS-setup RSS feed from cal
# this template has to be included after the cal main TS-setup because it depends on some settings from there
#
# (see Section Reference in the manual for more options & parameters)
#
###




# - - - - - - - - - - - - - -  render XML news   - - - - - - - - - - - - -  #
 
# point your RSS reader to: http://your-server.org/index.php?type=151

## This enables the xml news feed
calRSS = PAGE
calRSS {
 	typeNum = 151
	10 < plugin.tx_cal_controller
	10.view {
		day >
		week >
		month >
		year >
		event >
		calendar >
		category >
		list >
		freeAndBusy >
		other >
		search >
		search_event >
		search_location >
		search_organizer >
		admin >
		location >
		organizer >
		single_ics >
		ics >
		create_event >
		edit_event >
		confirm_event >
		delete_event >
		create_calendar >
		edit_calendar >
		confirm_calendar >
		delete_calendar >
		create_category >
		edit_category >
		confirm_category >
		delete_category >
		create_location >
		edit_location >
		confirm_location >
		delete_location >
		create_organizer >
		edit_organizer >
		confirm_organizer >
		delete_organizer >
		translation >
	}
	10.rights {
		create >
		edit >
		delete >
	}
	10._CSS_DEFAULT_STYLE >
	10.pidList >
	10.pidList = {$plugin.tx_cal_controller.pidList}
	10.view.allowedViews = rss,event
	10.view.event < plugin.tx_cal_controller.view.event
	10.view.event.eventViewPid = {$plugin.tx_cal_controller.rss.eventViewPID}

	10.view.rss {
		rss091_tmplFile = {$plugin.tx_cal_controller.rss.rss091_tmplFile}
		rss2_tmplFile = {$plugin.tx_cal_controller.rss.rss2_tmplFile}
		rdf_tmplFile = {$plugin.tx_cal_controller.rss.rdf_tmplFile}
		atom03_tmplFile = {$plugin.tx_cal_controller.rss.atom03_tmplFile}
		atom1_tmplFile = {$plugin.tx_cal_controller.rss.atom1_tmplFile}
		
		# possibile values: rss091 / rss2 / rdf / atom03
		xmlFormat = {$plugin.tx_cal_controller.rss.xmlFormat}
		
		xmlTitle = {$plugin.tx_cal_controller.rss.xmlTitle}
		xmlDesc = {$plugin.tx_cal_controller.rss.xmlDesc}
		xmlLang = {$plugin.tx_cal_controller.rss.xmlLang}
		xmlIcon = {$plugin.tx_cal_controller.rss.xmlIcon}
		xmlLimit = {$plugin.tx_cal_controller.rss.xmlLimit}
		xmlCaching = {$plugin.tx_cal_controller.rss.xmlCaching}
		xmlLastBuildDate = 1
		range = {$plugin.tx_cal_controller.rss.range}
		
		timeFormat = %I:%M %p
		dateFormat = %Y-%m-%d
			
		event < plugin.tx_cal_controller.view.event.event
		event {
			
			title {
				dataWrap >
				htmlSpecialChars = 1
				htmlSpecialChars.preserveEntities = 1
			}
			startdate.dataWrap = |<br/>
			starttime.dataWrap = |-
			endtime.dataWrap =  |<br/>
			description {
				crop = 100|..
				dataWrap = |<br/>
			}
			location.dataWrap = <div>{LLL:EXT:cal/controller/locallang.xml:l_location}: |</div><br/>
			category.dataWrap = <div>{LLL:EXT:cal/controller/locallang.xml:l_category}: |</div><br/>
		}
		
	}
	

	config {
		disableAllHeaderCode = 1
		additionalHeaders = Content-type:application/xml
		xhtml_cleaning = 0
		admPanel = 0
	}
}


